# ANY-GO WebApp 项目规格说明书

## 1. 项目概述
基于Django的ERP系统，主要用于管理产品和装箱单等信息。

## 2. 核心功能

### 2.1 产品管理
- SKU管理
- 产品信息维护
- 批量导入导出
- 自动创建缺失SKU

### 2.2 装箱单管理
- Excel导入功能
  - 支持文件命名格式: "XX号店海运ERP.xlsx"
  - 自动提取店铺信息
  - 自动创建缺失SKU
- 装箱单列表显示
- 装箱单详情页
- 删除功能

## 3. 数据规则

### 3.1 装箱单Excel格式
- 每个sheet代表一个装箱单
- 跳过"常用箱规"sheet
- 表头信息位置：
  - D1单元格: 类型（普货/纺织/混装）
  - B1单元格: 总箱数
  - B2单元格: 总重量
  - B3单元格: 总体积
  - B4单元格: 总边加一体积
  - B6单元格: 总件数
  - D2单元格: 总价格
- 箱规信息（每个箱子占用3列）：
  - 1号箱：
    - F1,G1,H1: 箱规（长宽高）
    - F2: 箱重
    - F3: 体积
    - F4: 单边+1体积
    - F6: 该箱总件数
    - F7: 箱号（值为1）
  - 2号箱：
    - I1,J1,K1: 箱规（长宽高）
    - I2: 箱重
    - I3: 体积
    - I4: 单边+1体积
    - I6: 该箱总件数
    - I7: 箱号（值为2）
  - 后续箱号以此类推，每个箱子向右平移3列
- 商品数据（从第8行开始）：
  - A列：图片
  - B列：SKU
  - C列：中文名
  - F列及后续：各箱数量
    - F8及以下：该SKU在1号箱的数量
    - I8及以下：该SKU在2号箱的数量
    - 以此类推

### 3.2 自动创建SKU规则
- 触发条件：导入装箱单时遇到不存在的SKU
- 默认值设置：
  - 中文名: "待补充(SKU编号)"
  - 类型: 继承自装箱单类型
  - 价格相关: 0
  - 图片: 空
  - 标记为待完善

### 3.3 产品类型规则
- 类型定义：
  - 普货：普通商品
  - 纺织：服装、布料等纺织品
  - 混装：可包含普货和纺织的混合装箱
- 装箱单验证：
  - 普货装箱单：仅允许普货产品
  - 纺织装箱单：仅允许纺织产品
  - 混装装箱单：允许所有类型产品

## 4. 用户界面规范
- 响应式设计
- 支持大屏显示
- 表格布局使用grid布局
- 弹窗使用WeUI风格

## 5. 待实现功能
- 产品批量导入时的图片处理
- 装箱单打印功能
- 数据导出Excel功能
- 用户权限管理

## 6. 技术规范
- Python 3.9+
- Django 4.2+
- 代码格式遵循PEP8
- 使用绝对导入
- 视图函数添加类型注解
